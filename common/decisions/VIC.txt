FRA_vichy_france = {

	FRA_figth_the_red_menace = {
		icon = generic_ignite_civil_war
		allowed = {
			tag = VIC
		}
		available = {
			has_government = fascism
			has_war_with = SOV
		}
		visible = {
			has_government = fascism
			has_completed_focus = FRA_the_red_menace
		}
		cost = 25
		fire_only_once = yes
		days_remove = 90
		targeted_modifier = {
			tag = SOV
			attack_bonus_against = 0.1
			defense_bonus_against = 0.1
		}
	}

	FRA_scuttle_the_fleet = {

		icon = generic_ignite_civil_war
		allowed = {
			tag = VIC
		}
		available = {
			has_government = fascism
			NOT = {
				GER = { divisions_in_state = { state = 21 size > 0 } }
			}
			has_country_flag = {
				flag = case_anton
				days > 2
			}
		}

		cost = 0

		ai_will_do = {
			factor = 200
		}

		visible = {
			has_government = fascism
			has_country_flag = case_anton
		}

		complete_effect = {
			set_country_flag = scuttled_fleet
			destroy_ships = {
				type = ship_hull_very_light
				count = all
			}
			destroy_ships = {
				type = ship_hull_light
				count = all
			}
			destroy_ships = {
				type = ship_hull_cruiser
				count = all
			}
			destroy_ships = {
				type = ship_hull_heavy_cruiser
				count = all
			}
			destroy_ships = {
				type = ship_hull_heavy
				count = all
			}
			destroy_ships = {
				type = ship_hull_heavy_battleship
				count = all
			}
			destroy_ships = {
				type = ship_hull_carrier
				count = all
			}
			destroy_ships = {
				type = ship_hull_light_carrier
				count = all
			}
			destroy_ships = {
				type = ship_hull_submarine
				count = all
			}
		}
	}

	FRA_case_anton_mission = {

		icon = generic_tank

		available = {
			is_subject = no
			has_war_with = GER
		}

		days_mission_timeout = 7
		fire_only_once = yes

		activation = {
			original_tag = VIC
			has_government = fascism
			NOT = { VIC = { has_war_with = GER } }
			has_country_flag = case_anton
		}

		complete_effect = {
			FRA = {
				add_legitimacy = 50
			}
			custom_effect_tooltip = FRA_case_anton_mission_tt
		}

		is_good = no

		timeout_effect = {
			FRA = {
				add_legitimacy = 50
			}
			transfer_navy = { target = GER }
			if = {
				limit = {
					NOT = { has_country_flag = scuttled_fleet }
				}
				GER = { news_event = { id = wtt_news.23 hours = 6 } }
			}
			if = {
				limit = {
					has_country_flag = scuttled_fleet
				}
				GER = { news_event = { id = wtt_news.24 hours = 6 } }
			}
			if = {
				limit = {
					FRA = { exists = yes }
				}
				hidden_effect = {
					every_state = {
						limit = {
							OR = {
								is_controlled_by = VIC
								is_controlled_by = FRM
								is_controlled_by = FRN
								is_controlled_by = FRW
								is_controlled_by = FRC
								is_controlled_by = FRS
								is_controlled_by = FRP
								is_controlled_by = FRJ
							}
						}
						FRA = { transfer_state = PREV }
					}
				}
			}
			GER = { annex_country = { target = ROOT } }
			set_global_flag = GER_case_anton
			add_to_variable = {
				var = ENG_med_control
				value = -20
			}
			add_to_variable = {
				var = ITA_med_control
				value = 20
			}
			custom_effect_tooltip = GAME_OVER_TT
		}
	}
	#FRA_demand_unification_with_vichy = {
	#
	#	available = {
	#		VIC = {
	#			exists = yes
	#			NOT = {
	#				has_war_with = ROOT
	#			}
	#		}
	#		controls_state = 16 #Paris
	#	}
	#
	#	visible = {
	#		NOT = {
	#			tag = VIC
	#		}
	#		country_exists = VIC
	#	}
	#	ai_will_do = {
	#		factor = 100
	#	}
	#	cost = 0
	#	fire_only_once = yes
	#	complete_effect = {
	#		random_other_country = {
	#			limit = {
	#				tag = VIC
	#			}
	#			country_event = lar_france_vichy_reunification.1
	#		}
	#	}
	#}
	# FRA_failsafe_join_axis = {
	# 	allowed = {
	# 		tag = VIC
	# 	}
	# 	available = {
	# 		NOT = {
	# 			has_war_with = GER
	# 			is_in_faction_with = GER
	# 		}
	# 		date > 1942.6.1
	# 		FRA = {
	# 			any_controlled_state = {
	# 				NOT = { #algeria
	# 					state = 459
	# 					state = 460
	# 					state = 513
	# 				}
	# 				is_core_of = FRA
	# 			}
	# 		}
	# 	}
	# 	visible = {
	# 		is_ai = yes #if you are not a member of the dev team - avert thy eyes, traveller, for thou hath gazed upon my shame
	# 	}
	# 	ai_will_do = {
	# 		factor = 10
	# 	}
	# 	cost = 0
	# 	fire_only_once = yes
	# 	complete_effect = {
	# 		set_rule = { can_join_factions = yes }
	# 		GER = { add_to_faction = ROOT }
	# 	}
	# }
}

political_actions = {
	VIC_establish_french_state_authority = {
		icon = GFX_decision_generic_operation
		priority = 30

		allowed = {
			original_tag = VIC
		}

		state_target = yes

		target_trigger = {
			FROM = {
				OR = {
					state = 29
					state = 785
					state = 855
					state = 16
					state = 18
					state = 17
					state = 27
					state = 24
					state = 1016
					state = 15
					state = 14
					state = 30
					state = 23
					state = 19
				}
				NOT = { is_core_of = ROOT }
				NOT = { has_dynamic_modifier = { modifier = french_state_unification } }
			}
		}

		on_map_mode = map_and_decisions_view

		available = {
			FROM = {
				is_fully_controlled_by = ROOT
				NOT = { has_dynamic_modifier = { modifier = french_state_unification } }
				NOT = { is_core_of = ROOT }
			}
		}

		visible = {
			has_completed_focus = VIC_reclaim_the_north
			FROM = {
				OR = {
					state = 29
					state = 785
					state = 855
					state = 16
					state = 18
					state = 17
					state = 27
					state = 24
					state = 1016
					state = 15
					state = 14
					state = 30
					state = 23
					state = 19
				}
				NOT = { is_core_of = ROOT }
				NOT = { has_dynamic_modifier = { modifier = french_state_unification } }
			}
		}

		cost = 50
		fire_only_once = no

		ai_will_do = {
			base = 400
		}

		modifier = {
		}

		complete_effect = {
			FROM = {
				add_dynamic_modifier = {
					modifier = french_state_unification
				}
			}
		}

		remove_effect = {
		}
	}

	VIC_reunify_french_state = {
		icon = GFX_decision_generic_operation
		priority = 30

		allowed = {
			original_tag = VIC
		}

		state_target = yes

		target_trigger = {
			FROM = {
				OR = {
					state = 29
					state = 785
					state = 855
					state = 16
					state = 18
					state = 17
					state = 27
					state = 24
					state = 1016
					state = 15
					state = 14
					state = 30
					state = 23
					state = 19
				}
				NOT = { is_core_of = ROOT }
			}
		}

		on_map_mode = map_and_decisions_view

		available = {
			FROM = {
				is_fully_controlled_by = ROOT
				compliance > 90
				NOT = { is_core_of = ROOT }
			}
		}

		visible = {
			has_completed_focus = VIC_reclaim_the_north
			FROM = {
				OR = {
					state = 29
					state = 785
					state = 855
					state = 16
					state = 18
					state = 17
					state = 27
					state = 24
					state = 1016
					state = 15
					state = 14
					state = 30
					state = 23
					state = 19
				}
				NOT = { is_core_of = ROOT }
			}
		}
		
		cost = 20
		fire_only_once = no

		ai_will_do = {
			base = 400
		}

		modifier = {
		}

		complete_effect = {
			FROM = {
				add_core_of = VIC
			}
			if = {
				limit = {
					FROM = {
						has_dynamic_modifier = { modifier = french_state_unification }
					}
				}
				FROM = {
					remove_dynamic_modifier = {
						modifier = french_state_unification
					}
				}
			}
		}

		remove_effect = {
		}
	}
}