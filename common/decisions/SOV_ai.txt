war_measures = {
	trucks_are_scuffed_sov = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			original_tag = SOV
			is_ai = yes
			has_war = yes
			has_completed_focus = SOV_emergency_powers
			NOT = { has_war_with = USA }
		}
		visible = {
			original_tag = SOV
			is_ai = yes
		}
		cost = 0

		fire_only_once = yes

		ai_will_do = {
			factor = 800
		}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = usa_motorized_equipment_1
				producer = USA
				amount = 100000
			}
		}
	}
	SOV_AI_armyspirit = { #army has been reformed
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			date > 1942.6.1
			original_tag = SOV
			is_ai = yes
		}
		visible = {
			OR = {
				has_tech = defense_in_depth
				has_tech = elastic_defense
				has_tech = armoured_waves
				has_tech = encirclement
				has_tech = creeping_barrages
				has_tech = zeroing_artillery
			}
			date > 1942.6.1
			original_tag = SOV
			is_ai = yes
		}
		cost = 0

		fire_only_once = yes

		ai_will_do = {
			factor = 320
		}

		complete_effect = {
			set_country_flag = army_is_reformed
			add_ideas = operational_reserve_spirit
		}
	}
	SOV_forced_conscription = {
		priority = 100

		icon = generic_political_discourse

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = { has_tech = forward_observers }
			NOT = { has_idea = scraping_the_barrel }
			has_completed_focus = SOV_emergency_powers
			has_war = yes
			is_ai = yes
			NOT = { has_country_flag = SOV_militia_disbanded }
			NOT = {
				has_country_flag = reserve_total_1
				has_country_flag = reserve_total_2
				has_country_flag = reserve_total_3
				has_country_flag = reserve_total_4
				has_country_flag = reserve_total_5
				has_country_flag = reserve_total_6
				has_country_flag = reserve_total_7
				has_country_flag = reserve_total_8
				has_country_flag = reserve_total_9
				has_country_flag = reserve_total_10
			}
			has_war = yes
			num_divisions < 350
		}

		cost = 0

		visible = {
			has_completed_focus = SOV_emergency_powers
			NOT = { has_country_flag = SOV_militia_disbanded }
			has_war = yes
			is_ai = yes
		}

		cancel_if_not_visible = yes

		days_remove = 15
		is_good = yes
		cost = 0

		ai_will_do = {
			factor = 800
		}

		remove_effect = {
			add_manpower = -181200
			hidden_effect = {
				division_template = {
					name = "Rifle Division"
					division_names_group = SOV_INF_01
					is_locked = yes

					regiments = {
						heavy_infantry = { x = 0 y = 0 }
						heavy_infantry = { x = 0 y = 1 }
						heavy_infantry = { x = 0 y = 2 }
						heavy_infantry = { x = 0 y = 3 }

						heavy_infantry = { x = 1 y = 0 }
						heavy_infantry = { x = 1 y = 1 }
						heavy_infantry = { x = 1 y = 2 }
						heavy_infantry = { x = 1 y = 3 }

						heavy_infantry = { x = 2 y = 0 }
						heavy_infantry = { x = 2 y = 1 }
						heavy_infantry = { x = 2 y = 2 }
						artillery_brigade = { x = 2 y = 3 }

						heavy_infantry = { x = 3 y = 0 }
						anti_tank_brigade = { x = 3 y = 1 }
						anti_tank_brigade = { x = 3 y = 2 }
						artillery_brigade = { x = 3 y = 3 }
						
					}
					support = {
						engineer = { x = 0 y = 0 }
						heavy_artillery = { x = 0 y = 1 }
						horse_logistics_company = { x = 0 y = 2 }
						signal_company = { x = 0 y = 3 }

						recon = { x = 1 y = 0 }
						field_hospital = { x = 1 y = 1 }
						anti_air = { x = 1 y = 2 }
						military_police = { x = 1 y = 3 }
					}
				}
			}
			if = {
				limit = {
					date < 1942.3.1
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Rifle Division\" start_experience_factor = 0.2 start_equipment_factor=1.0"
						owner = SOV
						count = 12
					}
				}
			}
			if = {
				limit = {
					date > 1942.3.1
					date < 1943.1.1
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Rifle Division\" start_experience_factor = 0.4 start_equipment_factor=1.0"
						owner = SOV
						count = 12
					}
				}
			}
			if = {
				limit = {
					date > 1943.1.1
					date < 1944.11.1
					date < 1944.1.1
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Rifle Division\" start_experience_factor = 0.6 start_equipment_factor=1.0"
						owner = SOV
						count = 12
					}
				}
			}
			if = {
				limit = {
					date > 1944.1.1
					date < 1944.11.1
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Rifle Division\" start_experience_factor = 0.725 start_equipment_factor=1.0"
						owner = SOV
						count = 12
					}
				}
			}
			if = {
				limit = {
					date > 1944.11.1
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Rifle Division\" start_experience_factor = 0.8 start_equipment_factor=1.0"
						owner = SOV
						count = 12
					}
				}
			}
		}
	}
	SOV_forced_conscription_late = {
		priority = 100

		icon = generic_political_discourse

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_tech = forward_observers
			NOT = { has_idea = scraping_the_barrel }
			has_completed_focus = SOV_emergency_powers
			has_war = yes
			is_ai = yes
			NOT = { has_country_flag = SOV_militia_disbanded }
			NOT = {
				has_country_flag = reserve_total_1
				has_country_flag = reserve_total_2
				has_country_flag = reserve_total_3
				has_country_flag = reserve_total_4
				has_country_flag = reserve_total_5
				has_country_flag = reserve_total_6
				has_country_flag = reserve_total_7
				has_country_flag = reserve_total_8
				has_country_flag = reserve_total_9
				has_country_flag = reserve_total_10
			}
			has_war = yes
			num_divisions < 350
		}

		cost = 0

		visible = {
			has_completed_focus = SOV_emergency_powers
			NOT = { has_country_flag = SOV_militia_disbanded }
			has_war = yes
			is_ai = yes
		}

		cancel_if_not_visible = yes

		days_remove = 15
		is_good = yes
		cost = 0

		ai_will_do = {
			factor = 800
		}

		remove_effect = {
			add_manpower = -181200
			hidden_effect = {
				division_template = {
					name = "Late Rifle Division"
					division_names_group = SOV_INF_01
					is_locked = yes

					regiments = {
						heavy_infantry = { x = 0 y = 0 }
						heavy_infantry = { x = 0 y = 1 }
						heavy_infantry = { x = 0 y = 2 }
						heavy_infantry = { x = 0 y = 3 }

						heavy_infantry = { x = 1 y = 0 }
						heavy_infantry = { x = 1 y = 1 }
						heavy_infantry = { x = 1 y = 2 }
						heavy_infantry = { x = 1 y = 3 }

						heavy_infantry = { x = 2 y = 0 }
						heavy_infantry = { x = 2 y = 1 }
						heavy_infantry = { x = 2 y = 2 }
						heavy_infantry = { x = 2 y = 3 }

						heavy_infantry = { x = 3 y = 0 }
						anti_tank_brigade = { x = 3 y = 1 }
						anti_tank_brigade = { x = 3 y = 2 }
						anti_tank_brigade = { x = 3 y = 3 }
						
						motorized_heavy_artillery_brigade = { x = 4 y = 0 }
						motorized_heavy_artillery_brigade = { x = 4 y = 1 }
						motorized_heavy_artillery_brigade = { x = 4 y = 2 }
					}
					support = {
						engineer = { x = 0 y = 0 }
						heavy_artillery = { x = 0 y = 1 }
						horse_logistics_company = { x = 0 y = 2 }
						signal_company = { x = 0 y = 3 }

						recon = { x = 1 y = 0 }
						field_hospital = { x = 1 y = 1 }
						anti_air = { x = 1 y = 2 }
						maintenance_company = { x = 1 y = 3 }
						military_police = { x = 1 y = 4 }
					}
				}
			}
			if = {
				limit = {
					date < 1942.3.1
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Late Rifle Division\" start_experience_factor = 0.2 start_equipment_factor=1.0"
						owner = SOV
						count = 12
					}
				}
			}
			if = {
				limit = {
					date > 1942.3.1
					date < 1943.1.1
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Late Rifle Division\" start_experience_factor = 0.4 start_equipment_factor=1.0"
						owner = SOV
						count = 12
					}
				}
			}
			if = {
				limit = {
					date > 1943.1.1
					date < 1944.11.1
					date < 1944.1.1
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Late Rifle Division\" start_experience_factor = 0.6 start_equipment_factor=1.0"
						owner = SOV
						count = 12
					}
				}
			}
			if = {
				limit = {
					date > 1944.1.1
					date < 1944.11.1
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Late Rifle Division\" start_experience_factor = 0.725 start_equipment_factor=1.0"
						owner = SOV
						count = 12
					}
				}
			}
			if = {
				limit = {
					date > 1944.11.1
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Late Rifle Division\" start_experience_factor = 0.8 start_equipment_factor=1.0"
						owner = SOV
						count = 12
					}
				}
			}
		}
	}
	SOV_uralvagonzavod = {
		priority = 100

		icon = generic_political_discourse

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = { has_idea = scraping_the_barrel }
			GER = {
				is_ai = no
			}
			has_completed_focus = SOV_emergency_powers
			has_war = yes
			is_ai = yes
			has_war = yes
			num_divisions < 375
			653 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_in_faction_with = SOV
						is_subject_of = SOV
					}
				}
			}
		}

		cost = 0

		visible = {
			has_completed_focus = SOV_emergency_powers
			has_war = yes
			is_ai = yes
		}

		cancel_if_not_visible = yes

		days_remove = 20
		is_good = yes
		cost = 0

		ai_will_do = {
			factor = 800
		}

		remove_effect = {
			add_manpower = -16800
			if = {
				limit = {
					date < 1943.7.1
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Soviet Early Medium Tank Division\" start_experience_factor = 0.3 start_equipment_factor=1.0"
						owner = SOV
						count = 1
						prioritize_location = 1808
					}
				}
			}
			if = {
				limit = {
					date > 1943.7.1
					date < 1944.1.1
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Soviet Adv Medium Tank Division\" start_experience_factor = 0.3 start_equipment_factor=1.0"
						owner = SOV
						count = 1
						prioritize_location = 1808
					}
				}
			}
			if = {
				limit = {
					date > 1944.1.1
					date < 1945.7.1
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Soviet Heavy Tank Division\" start_experience_factor = 0.3 start_equipment_factor=1.0"
						owner = SOV
						count = 1
						prioritize_location = 1808
					}
				}
			}
			if = {
				limit = {
					date > 1945.7.1
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Soviet Modern Heavy Tank Division\" start_experience_factor = 0.3 start_equipment_factor=1.0"
						owner = SOV
						count = 2
						prioritize_location = 1808
					}
				}
			}
		}
	}
	SOV_relocate_capital_from_moscow_ai = {
		icon = generic_operation
		available = {
			is_ai = yes
			tag = SOV
			has_war = yes
			has_civil_war = no
			OR = {
				NOT = { SOV = { has_full_control_of_state = 219 } }
				NOT = { SOV = { has_full_control_of_state = 217 } }
			}
			SOV = { has_full_control_of_state = 249 }
		}
		visible = {
			is_ai = yes
			tag = SOV
			has_war = yes
			NOT = { SOV = { has_full_control_of_state = 219 } }
		}
		
		days_re_enable = 30
		days_remove = 1
		is_good = yes
		cost = 0

		cancel_if_not_visible = yes

		ai_will_do = {
			factor = 4000
		}

		remove_effect = {
			set_capital = { state = 249 }
		}
	}

	SOV_relocate_capital_from_kazan_ai = {
		icon = generic_operation
		available = {
			is_ai = yes
			tag = SOV
			has_war = yes
			NOT = { SOV = { has_full_control_of_state = 249 } }
			SOV = { has_full_control_of_state = 572 }
		}
		visible = {
			is_ai = yes
			tag = SOV
			has_war = yes
			NOT = { SOV = { has_full_control_of_state = 249 } }
		}
		
		days_re_enable = 30
		days_remove = 1
		is_good = yes
		cost = 0

		cancel_if_not_visible = yes

		ai_will_do = {
			factor = 4000
		}

		remove_effect = {
			set_capital = { state = 572 }
		}
	}
	
	SOV_trotsky_fix = {
		icon = generic_operation
		available = {
			is_ai = yes
			tag = SOV
			has_completed_focus = SOV_behead_the_snake
			OR = {
				has_global_flag = trotsky_exile_mexico
				has_global_flag = flag_mexico_invited_trotsky_to_government
			}
			NOT = { has_global_flag = flag_trotsky_dead }
			NOT = { has_global_flag = flag_trotsky_has_returned_to_ussr_from_mexico }
			MEX = {
				controls_state = 277
			}
		}
		visible = {
			is_ai = yes
			tag = SOV
			has_completed_focus = SOV_behead_the_snake
			OR = {
				has_global_flag = trotsky_exile_mexico
				has_global_flag = flag_mexico_invited_trotsky_to_government
			}
			NOT = { has_global_flag = flag_trotsky_dead }
			NOT = { has_global_flag = flag_trotsky_has_returned_to_ussr_from_mexico }
			MEX = {
				controls_state = 277
			}
		}
		
		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 80
		}

		complete_effect = {
			ROOT = { news_event = { id = nsb_news.100 } }
		}
	}
	
	SOV_sergy = {
		icon = generic_operation
		available = {
			is_ai = yes
			tag = SOV
			has_completed_focus = SOV_patriarch_of_all_russia
		}
		visible = {
			is_ai = yes
			tag = SOV
			has_completed_focus = SOV_patriarch_of_all_russia
		}
		
		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 80
		}

		complete_effect = {
			remove_ideas = { SOV_georgy_malenkov }
			add_ideas = { SOV_patriarch_sergy }
		}
	}
	
	SOV_beria = {
		icon = generic_operation
		available = {
			is_ai = yes
			tag = SOV
			OR = {
				has_idea = SOV_nikolay_yezhov
				has_idea = SOV_genrikh_yagoda
			}
		}
		visible = {
			is_ai = yes
			tag = SOV
			date > 1941.6.1
		}
		
		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 80
		}

		complete_effect = {
			remove_ideas = { SOV_genrikh_yagoda }
			remove_ideas = { SOV_nikolay_yezhov }
			add_ideas = { SOV_lavrenty_beriya }
		}
	}
	
	SOV_AI_needs_convoys = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			original_tag = SOV
			is_ai = yes
			has_war = yes
			has_equipment = {
				convoy_1 < 50
			}
		}
		visible = {
			original_tag = SOV
			is_ai = yes
			has_equipment = {
				convoy_1 < 100
			}
		}
		cost = 0

		fire_only_once = no

		days_re_enable = 45

		ai_will_do = {
			factor = 320
		}

		complete_effect = {
			add_equipment_to_stockpile = { type = convoy_1 amount = 20 producer = SOV }
		}
	}
	
	SOV_relocate_industry_from_moscow_area_ai = {

		icon = generic_construction

		highlight_states = {
			highlight_state_targets = {
				state = 219
			}
		}
		allowed = {
			tag = SOV
		}
		available = {
			is_ai = yes
			219 = { #Moscow
				is_owned_and_controlled_by = SOV
			}
			573 = { is_owned_and_controlled_by = SOV } #Zlatoust
			876 = { is_owned_and_controlled_by = SOV } #Magnitogorsk
			has_equipment = { train_equipment > 79 } #20 trains per factory
		}

		visible = {
			is_ai = yes
			has_war_with = GER
		}

		fire_only_once = yes

		cost = 25
		days_remove = 49

		modifier = {

		}

		ai_will_do = {
			factor = 4000
		}

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
		}

		remove_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
			if = {
				limit = {
					controls_state = 219
				}
				219 = { #Moscow
					remove_building = {
						type = arms_factory
						level = 29
					}
					remove_building = {
						type = industrial_complex
						level = 9
					}
					remove_building = {
						type = steel_refinery
						level = 4
					}
				}
				573 = { #Zlatoust
					add_extra_state_shared_building_slots = 31
					add_building_construction = {
						type = arms_factory
						level = 23
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 4
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				876 = { #Magnitogorsk
					add_extra_state_shared_building_slots = 9
					add_building_construction = {
						type = arms_factory
						level = 6
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 5
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 246
				}
				246 = { #Rzhev
					remove_building = {
						type = arms_factory
						level = 4
					}
					remove_building = {
						type = industrial_complex
						level = 2
					}
				}
				573 = { #Zlatoust
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				876 = { #Magnitogorsk
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 242
				}
				242 = { #Rzhev
					remove_building = {
						type = arms_factory
						level = 1
					}
					remove_building = {
						type = industrial_complex
						level = 3
					}
				}
				573 = { #Zlatoust
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 223
				}
				223 = { #Tula
					remove_building = {
						type = arms_factory
						level = 17
					}
					remove_building = {
						type = industrial_complex
						level = 4
					}
				}
				582 = { #Beloretsk
					add_extra_state_shared_building_slots = 21
					add_building_construction = {
						type = arms_factory
						level = 17
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			custom_effect_tooltip = SOV_relocate_industry_from_moscow_tt
		}
	}
	
	SOV_relocate_industry_from_leningrad_area_ai = {

		icon = generic_construction

		highlight_states = {
			highlight_state_targets = {
				state = 195
			}
		}
		allowed = {
			tag = SOV
		}
		available = {
			is_ai = yes
			195 = { #Leningrad
				is_owned_and_controlled_by = SOV
				arms_factory > 4
				industrial_complex > 0
			}
			653 = { is_owned_and_controlled_by = SOV } #Zlatoust
			572 = { is_owned_and_controlled_by = SOV } #Magnitogorsk
		}

		visible = {
			is_ai = yes
			has_war_with = GER
		}

		fire_only_once = yes

		cost = 25
		days_remove = 49

		modifier = {

		}

		ai_will_do = {
			factor = 4000
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 195
				}
				195 = { #Leningrad
					remove_building = {
						type = arms_factory
						level = 17
					}
					remove_building = {
						type = industrial_complex
						level = 4
					}
					remove_building = {
						type = steel_refinery
						level = 3
					}
				}

				653 = { #Zlatoust
					add_extra_state_shared_building_slots = 17
					add_building_construction = {
						type = arms_factory
						level = 14
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 3
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
					}
				}
				572 = { #Magnitogorsk
					add_extra_state_shared_building_slots = 7
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.2 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 208
				}
				208 = { #Leningrad
					remove_building = {
						type = industrial_complex
						level = 5
					}
				}

				653 = { #Luga
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = industrial_complex
						level = 5
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = industrial_complex damage = 0.3 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 263
				}
				263 = { #Novogrod
					remove_building = {
						type = industrial_complex
						level = 5
					}
					remove_building = {
						type = arms_factory
						level = 3
					}
				}

				256 = { #Cheboksary
					add_extra_state_shared_building_slots = 8
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 5
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.3 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 209
				}
				263 = { #Pskov
					remove_building = {
						type = arms_factory
						level = 2
					}
				}

				256 = { #Cheboksary
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			custom_effect_tooltip = SOV_relocate_industry_from_leningrad_tt
		}
	}

	SOV_relocate_industry_from_stalingrad_area_ai = {

		icon = generic_construction

		highlight_states = {
			highlight_state_targets = {
				state = 217
			}
		}
		allowed = {
			tag = SOV
		}
		visible = {
			is_ai = yes
			has_war_with = GER
		}
		available = {
			is_ai = yes
			217 = { #Stalingrad
				is_owned_and_controlled_by = SOV
				industrial_complex > 1
			}
			573 = { is_owned_and_controlled_by = SOV } #Zlatoust
			876 = { is_owned_and_controlled_by = SOV } #Magnitogorsk
		}

		fire_only_once = yes

		cost = 25
		days_remove = 49

		modifier = {

		}

		ai_will_do = {
			factor = 4000
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 217
				}
				217 = { #Stalingrad
					remove_building = {
						type = arms_factory
						level = 26
					}
					remove_building = {
						type = industrial_complex
						level = 11
					}
					remove_building = {
						type = steel_refinery
						level = 1
					}
				}

				398 = { #Zlatoust
					add_extra_state_shared_building_slots = 10
					add_building_construction = {
						type = arms_factory
						level = 6
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				583 = { #Kustanay
					add_extra_state_shared_building_slots = 21
					add_building_construction = {
						type = arms_factory
						level = 18
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				651 = { #Magnitogorsk
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 1
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.2 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 218
				}
				218 = { #Rostov
					remove_building = {
						type = arms_factory
						level = 6
					}
					remove_building = {
						type = industrial_complex
						level = 1
					}
					remove_building = {
						type = steel_refinery
						level = 2
					}
				}
				651 = { #Magnitogorsk
					add_extra_state_shared_building_slots = 9
					add_building_construction = {
						type = arms_factory
						level = 6
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 2
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.2 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 245
				}
				245 = { #Millerovo
					remove_building = {
						type = arms_factory
						level = 2
					}
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
				398 = { #Magnitogorsk
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.2 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			custom_effect_tooltip = SOV_relocate_industry_from_stalingrad_tt
		}
	}

	SOV_relocate_industry_from_kharkov_area_ai = {

		icon = generic_construction

		highlight_states = {
			highlight_state_targets = {
			state = 220
			}
		}
		allowed = {
			tag = SOV
		}
		visible = {
			is_ai = yes
			has_war_with = GER
		}
		available = {
			is_ai = yes
			220 = {
				is_owned_and_controlled_by = SOV
			}
			221 = {
				is_owned_and_controlled_by = SOV
			}
			652 = { is_owned_and_controlled_by = SOV } #Zlatoust
			251 = { is_owned_and_controlled_by = SOV } #Magnitogorsk
		}

		fire_only_once = yes

		cost = 25
		days_remove = 49

		modifier = {

		}

		ai_will_do = {
			factor = 4000
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 220
				}
				220 = { #Kursk
					remove_building = {
						type = arms_factory
						level = 6
					}
					remove_building = {
						type = industrial_complex
						level = 6
					}
				}

				652 = { #Zlatoust
					add_extra_state_shared_building_slots = 7
					add_building_construction = {
						type = arms_factory
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				251 = { #Magnitogorsk
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.2 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 221
				}
				221 = { #Kharkov
					remove_building = {
						type = arms_factory
						level = 12
					}
					remove_building = {
						type = industrial_complex
						level = 5
					}
					remove_building = {
						type = steel_refinery
						level = 6
					}
				}

				652 = { #Zlatoust
					add_extra_state_shared_building_slots = 17
					add_building_construction = {
						type = arms_factory
						level = 9
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 3
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				251 = { #Magnitogorsk
					add_extra_state_shared_building_slots = 7
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 3
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.2 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 227
				}
				227 = { #Stalino
					remove_building = {
						type = industrial_complex
						level = 7
					}
					remove_building = {
						type = steel_refinery
						level = 2
					}
				}

				399 = { #Zlatoust
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 1
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				249 = { #Magnitogorsk
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 1
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 228
				}
				228 = { #Voroshilovgrad
					remove_building = {
						type = industrial_complex
						level = 5
					}
				}

				399 = { #Zlatoust
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				249 = { #Magnitogorsk
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			custom_effect_tooltip = SOV_relocate_industry_from_kharkov_tt
		}
	}

	SOV_relocate_industry_from_kiev_area_ai = {

		icon = generic_construction

		highlight_states = {
			highlight_state_targets = {
			state = 202
			}
		}
		allowed = {
			tag = SOV
		}
		visible = {
			is_ai = yes
			has_war_with = GER
		}
		available = {
			is_ai = yes
			202 = {
				is_owned_and_controlled_by = SOV
			}
			400 = { is_owned_and_controlled_by = SOV } #Zlatoust
			399 = { is_owned_and_controlled_by = SOV } #Magnitogorsk
			251 = { is_owned_and_controlled_by = SOV } #Kuibyshev
		}

		fire_only_once = yes

		cost = 25
		days_remove = 49

		modifier = {

		}

		ai_will_do = {
			factor = 4000
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 202
				}
				202 = { #Kiev
					remove_building = {
						type = arms_factory
						level = 7
					}
					remove_building = {
						type = industrial_complex
						level = 6
					}
				}

				400 = { #Zlatoust
					add_extra_state_shared_building_slots = 7
					add_building_construction = {
						type = arms_factory
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				399 = { #Magnitogorsk
					add_extra_state_shared_building_slots = 6
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.2 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 193
				}
				193 = { #Chernigov
					remove_building = {
						type = arms_factory
						level = 2
					}
					remove_building = {
						type = industrial_complex
						level = 3
					}
				}

				400 = { #Zlatoust
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 226
				}
				226 = {
					remove_building = {
						type = arms_factory
						level = 4
					}
				}

				251 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 4
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			custom_effect_tooltip = SOV_relocate_industry_from_kiev_tt
		}
	}

	SOV_relocate_industry_from_minsk_area_ai = {

		icon = generic_construction

		highlight_states = {
			highlight_state_targets = {
				state = 206
			}
		}
		allowed = {
			tag = SOV
		}
		visible = {
			is_ai = yes
			has_war_with = GER
		}
		available = {
			is_ai = yes
			206 = {
				is_owned_and_controlled_by = SOV
			}
			249 = { is_owned_and_controlled_by = SOV } #Kazan
			251 = { is_owned_and_controlled_by = SOV } #Kuibyshev
			256 = { is_owned_and_controlled_by = SOV } #Cheboksary
		}

		fire_only_once = yes

		cost = 25
		days_remove = 49

		modifier = {

		}

		ai_will_do = {
			factor = 4000
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 206
				}
				206 = { #Minsk
					remove_building = {
						type = arms_factory
						level = 5
					}
					remove_building = {
						type = industrial_complex
						level = 2
					}
				}

				249 = { #Kazan
					add_extra_state_shared_building_slots = 7
					add_building_construction = {
						type = arms_factory
						level = 5
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 207
				}
				207 = { #
					remove_building = {
						type = arms_factory
						level = 1
					}
					remove_building = {
						type = industrial_complex
						level = 2
					}
				}

				251 = { #Kuibyshev
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			if = {
				limit = {
					controls_state = 241
				}
				241 = {
					remove_building = {
						type = arms_factory
						level = 2
					}
					remove_building = {
						type = industrial_complex
						level = 2
					}
				}

				256 = { #Cheboksary
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
			custom_effect_tooltip = SOV_relocate_industry_from_minsk_tt
		}
	}
}