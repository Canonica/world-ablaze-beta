political_actions = {
	
	french_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP}
			NOT = {original_tag = GER}
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			FRA = { has_capitulated = no }
			NOT = { 
				has_country_flag = french_technologies_tree_flag
			}
			NOT = { 
				has_country_flag = permanent_technologies_tree_flag
			}
			OR = {
				is_in_faction_with = FRA
				is_subject_of = FRA
				hidden_trigger = {
					has_completed_focus = CHI_reach_out_to_france
				}
				hidden_trigger = {
					has_completed_focus = TUR_find_a_major_sponser
				}
			}	
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_war_with = FRA
					FRA = { has_capitulated = yes }
				}
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0
		}

		complete_effect = {
			custom_effect_tooltip = FRA_unlock_technologies
			set_country_flag = french_technologies_tree_flag
			if = {
				limit = {
					NOT = { has_idea = foreign_technologies }
				}
				add_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	italian_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP}
			NOT = {original_tag = GER}
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			ITA = { has_capitulated = no }
			NOT = { 
				has_country_flag = italian_technologies_tree_flag
			}
			NOT = { 
				has_country_flag = permanent_technologies_tree_flag
			}
			OR = {
				is_in_faction_with = ITA
				is_subject_of = ITA
				hidden_trigger = {
					has_completed_focus = TUR_find_a_major_sponser
				}
			}	
		}

		visible = {
			NOT = { 
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = ITA
					ITA = { has_capitulated = yes }
				}
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0
		}

		complete_effect = {
			custom_effect_tooltip = ITA_unlock_technologies
			set_country_flag = italian_technologies_tree_flag
			if = {
				limit = {
					NOT = { has_idea = foreign_technologies }
				}
				add_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	japanese_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP}
			NOT = {original_tag = GER}
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			JAP = { has_capitulated = no }
			NOT = { 
				has_country_flag = japanese_technologies_tree_flag
			}
			NOT = { 
				has_country_flag = permanent_technologies_tree_flag
			}
			OR = {
				is_in_faction_with = JAP
				is_subject_of = JAP
				hidden_trigger = {
					has_completed_focus = CHI_collaboration_with_the_japanese
				}
				hidden_trigger = {
					has_completed_focus = TUR_find_a_major_sponser
				}
			}	
		}

		visible = {
			NOT = { 
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = JAP
					JAP = { has_capitulated = yes }
				}
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0
		}

		complete_effect = {
			custom_effect_tooltip = JAP_unlock_technologies
			set_country_flag = japanese_technologies_tree_flag
			if = {
				limit = {
					NOT = { has_idea = foreign_technologies }
				}
				add_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	german_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP}
			NOT = {original_tag = GER}
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			GER = { has_capitulated = no }
			NOT = { 
				has_country_flag = german_technologies_tree_flag
			}
			NOT = { 
				has_country_flag = permanent_technologies_tree_flag
			}
			OR = {
				is_in_faction_with = GER
				is_subject_of = GER
				hidden_trigger = {
					has_completed_focus = CHI_mission_to_germany
				}
				hidden_trigger = {
					has_completed_focus = TUR_find_a_major_sponser
				}
			}	
		}

		visible = {
			NOT = { 
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = GER
					GER = { has_capitulated = yes }
				}
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0

			modifier = {
				add = 100
				tag = ROM
			}
			modifier = {
				add = 100
				tag = SLO
			}
			modifier = {
				add = 100
				tag = BUL
			}
			modifier = {
				add = 100
				tag = BEN
			}
			modifier = {
				add = 100
				tag = SCA
			}
		}

		complete_effect = {
			custom_effect_tooltip = GER_unlock_technologies
			set_country_flag = german_technologies_tree_flag
			if = {
				limit = {
					NOT = { has_idea = foreign_technologies }
				}
				add_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
			if = {
				limit = {
					date > 1939.1.1
				}
				hidden_effect = {
					set_technology = { ger_light_0 = 1 }
					set_technology = { ger_light_1_spg = 1 }
					set_technology = { ger_light_1_aa = 1 }
					set_technology = { ger_light_1 = 1 }
					set_technology = { ger_scout_car_1 = 1 }
					set_technology = { ger_scout_car_2 = 1 }

					set_technology = { ger_interwar_fighter = 1 }
					set_technology = { ger_fighter_0 = 1 }
					set_technology = { ger_cas_1 = 1 }
					set_technology = { ger_tactical_bomber_1 = 1 }

					set_technology = { ger_anti_air_1 = 1 }
					set_technology = { ger_heavy_anti_air_1 = 1 }
					set_technology = { ger_aa_tower_1 = 1 }
					set_technology = { ger_artillery_1 = 1 }
					set_technology = { ger_heavy_artillery_1 = 1 }
					set_technology = { ger_anti_tank_1 = 1 }

					set_technology = { ger_infantry_weapons_1 = 1 }
					set_technology = { ger_infantry_weapons_2 = 1 }
					set_technology = { ger_infantry_weapons_upgrade_1 = 1 }
					set_technology = { ger_heavy_infantry_weapons_1 = 1 }
					set_technology = { ger_heavy_infantry_weapons_2 = 1 }
					set_technology = { ger_heavy_infantry_weapons_upgrade_1 = 1 }
					set_technology = { ger_heavy_infantry_weapons_upgrade_2 = 1 }
				}
			}
		}
	}

	soviet_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP}
			NOT = {original_tag = GER}
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			SOV = { has_capitulated = no }
			NOT = { 
				has_country_flag = soviet_technologies_tree_flag
			}
			NOT = { 
				has_country_flag = permanent_technologies_tree_flag
			}
			OR = {
				is_in_faction_with = SOV
				is_subject_of = SOV
				hidden_trigger = {
					has_completed_focus = PRC_adoption_of_soviet_technology
				}
				hidden_trigger = {
					has_completed_focus = CHI_mission_to_the_soviet_union
				}
				hidden_trigger = {
					has_completed_focus = TUR_find_a_major_sponser
				}
			}	
		}

		visible = {
			NOT = { 
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = SOV
					SOV = { has_capitulated = yes }
				}
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0

			modifier = {
				add = 100
				tag = PRC
			}

			modifier = {
				add = 50
				tag = ROM
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_unlock_technologies
			set_country_flag = soviet_technologies_tree_flag
			if = {
				limit = {
					NOT = { has_idea = foreign_technologies }
				}
				add_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	british_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP}
			NOT = {original_tag = GER}
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			ENG = { has_capitulated = no }
			NOT = { 
				has_country_flag = british_technologies_tree_flag
			}
			NOT = { 
				has_country_flag = permanent_technologies_tree_flag
			}
			OR = {
				is_in_faction_with = ENG
				is_subject_of = ENG
				hidden_trigger = {
					has_completed_focus = CHI_british_cooperation
				}
				hidden_trigger = {
					has_completed_focus = TUR_find_a_major_sponser
				}
			}	
		}

		visible = {
			NOT = { 
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = ENG
					ENG = { has_capitulated = yes }
				}
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0

			modifier = {
				add = 100
				tag = YUG
			}

			modifier = {
				add = 50
				tag = BEL
			}

			modifier = {
				add = 100
				tag = HOL
			}

			modifier = {
				add = 50
				tag = LUX
			}

			modifier = {
				add = 100
				tag = GRE
			}

			modifier = {
				add = 50
				tag = NOR
			}
		}

		complete_effect = {
			custom_effect_tooltip = ENG_unlock_technologies
			set_country_flag = british_technologies_tree_flag
			if = {
				limit = {
					NOT = { has_idea = foreign_technologies }
				}
				add_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	unitedstates_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP}
			NOT = {original_tag = GER}
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			USA = { has_capitulated = no }
			NOT = { 
				has_country_flag = unitedstates_technologies_tree_flag
			}
			NOT = { 
				has_country_flag = permanent_technologies_tree_flag
			}
			OR = {
				is_in_faction_with = USA
				is_subject_of = USA
				hidden_trigger = {
					has_completed_focus = CHI_mission_to_the_us 
				}
				hidden_trigger = {
					has_completed_focus = TUR_find_a_major_sponser
				}
			}	
		}

		visible = {
			NOT = { 
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = USA
					USA = { has_capitulated = yes }
				}
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0

			modifier = {
				add = 100
				tag = CHI
			}
		}

		complete_effect = {
			custom_effect_tooltip = USA_unlock_technologies
			set_country_flag = unitedstates_technologies_tree_flag
			if = {
				limit = {
					NOT = { has_idea = foreign_technologies }
				}
				add_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
		}
	}

	french_permanent_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP}
			NOT = {original_tag = GER}
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			controls_state = 855
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		visible = {
			controls_state = 855
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		fire_only_once = no

		cost = 0

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			set_country_flag = permanent_technologies_tree_flag
			custom_effect_tooltip = FRA_unlock_technologies
			set_country_flag = french_technologies_tree_flag
			if = {
				limit = {
					has_idea = foreign_technologies
				}
				remove_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	italian_permanent_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP}
			NOT = {original_tag = GER}
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			controls_state = 856
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		visible = {
			controls_state = 856
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		fire_only_once = no

		cost = 0

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			set_country_flag = permanent_technologies_tree_flag
			custom_effect_tooltip = ITA_unlock_technologies
			set_country_flag = italian_technologies_tree_flag
			if = {
				limit = {
					has_idea = foreign_technologies
				}
				remove_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	japanese_permanent_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP}
			NOT = {original_tag = GER}
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			controls_state = 282
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		visible = {
			controls_state = 282
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		fire_only_once = no

		cost = 0

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			set_country_flag = permanent_technologies_tree_flag
			custom_effect_tooltip = JAP_unlock_technologies
			set_country_flag = japanese_technologies_tree_flag
			if = {
				limit = {
					has_idea = foreign_technologies
				}
				remove_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	german_permanent_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP}
			NOT = {original_tag = GER}
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			controls_state = 810
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		visible = {
			controls_state = 810
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		fire_only_once = no

		cost = 0

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			set_country_flag = permanent_technologies_tree_flag
			custom_effect_tooltip = GER_unlock_technologies
			set_country_flag = german_technologies_tree_flag
			if = {
				limit = {
					has_idea = foreign_technologies
				}
				remove_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	soviet_permanent_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP}
			NOT = {original_tag = GER}
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			controls_state = 219
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		visible = {
			controls_state = 219
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		fire_only_once = no

		cost = 0

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			set_country_flag = permanent_technologies_tree_flag
			custom_effect_tooltip = SOV_unlock_technologies
			set_country_flag = soviet_technologies_tree_flag
			if = {
				limit = {
					has_idea = foreign_technologies
				}
				remove_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	british_permanent_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP}
			NOT = {original_tag = GER}
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			controls_state = 126
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		visible = {
			controls_state = 126
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		fire_only_once = no

		cost = 0

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			set_country_flag = permanent_technologies_tree_flag
			custom_effect_tooltip = ENG_unlock_technologies
			set_country_flag = british_technologies_tree_flag
			if = {
				limit = {
					has_idea = foreign_technologies
				}
				remove_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	unitedstates_permanent_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP}
			NOT = {original_tag = GER}
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			controls_state = 361
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		visible = {
			controls_state = 361
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		fire_only_once = no

		cost = 0

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			set_country_flag = permanent_technologies_tree_flag
			custom_effect_tooltip = USA_unlock_technologies
			set_country_flag = unitedstates_technologies_tree_flag
			if = {
				limit = {
					has_idea = foreign_technologies
				}
				remove_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
		}
	}

	Lost_our_tech_tree_partnership = {

		priority = 10

		icon = generic_break_treaty
		
		available = {
			OR = {
				AND = {
					has_country_flag = french_technologies_tree_flag
					OR = {
						controls_state = 855
						is_in_faction_with = FRA
						is_puppet_of = FRA
						has_completed_focus = CHI_reach_out_to_france
						has_completed_focus = TUR_find_a_major_sponser
					}
					NOT = { has_war_with = FRA }
				}
				AND = {
					has_country_flag = italian_technologies_tree_flag
					OR = {
						controls_state = 856
						is_in_faction_with = ITA
						is_puppet_of = ITA
						has_completed_focus = TUR_find_a_major_sponser
					}
					NOT = { has_war_with = ITA }
				}
				AND = {
					has_country_flag = japanese_technologies_tree_flag
					OR = {
						controls_state = 282
						is_in_faction_with = JAP
						is_puppet_of = JAP
						has_completed_focus = CHI_collaboration_with_the_japanese
						has_completed_focus = TUR_find_a_major_sponser
					}
					NOT = { has_war_with = JAP }
				}
				AND = {
					has_country_flag = german_technologies_tree_flag
					OR = {
						controls_state = 810
						is_in_faction_with = GER
						is_puppet_of = GER
						has_completed_focus = CHI_mission_to_germany
						has_completed_focus = TUR_find_a_major_sponser
					}
					NOT = { has_war_with = GER }
				}
				AND = {
					has_country_flag = soviet_technologies_tree_flag
					OR = {
						controls_state = 219
						is_in_faction_with = SOV
						is_puppet_of = SOV
						has_completed_focus = PRC_adoption_of_soviet_technology
						has_completed_focus = CHI_mission_to_the_soviet_union
						has_completed_focus = TUR_find_a_major_sponser
					}
					NOT = { has_war_with = SOV }
				}
				AND = {
					has_country_flag = british_technologies_tree_flag
					OR = {
						controls_state = 126
						is_in_faction_with = ENG
						is_puppet_of = ENG
						has_completed_focus = CHI_british_cooperation
						has_completed_focus = TUR_find_a_major_sponser
					}
					NOT = { has_war_with = ENG }
				}
				AND = {
					has_country_flag = unitedstates_technologies_tree_flag
					OR = {
						controls_state = 361
						is_in_faction_with = USA
						is_puppet_of = USA
						has_completed_focus = CHI_mission_to_the_us
						has_completed_focus = TUR_find_a_major_sponser
					}
					NOT = { has_war_with = USA }
				}
			}
		}

		days_mission_timeout = 1

		activation = {
			OR = {
				AND = {
					has_country_flag = french_technologies_tree_flag
					NOT = { controls_state = 855 }
					OR = {
						AND = {
							NOT = {is_in_faction_with = FRA}
							NOT = {is_puppet_of = FRA}
							NOT = {has_completed_focus = CHI_reach_out_to_france}
							NOT = {has_completed_focus = TUR_find_a_major_sponser}
						}
						has_war_with = FRA
					}
				}
				AND = {
					has_country_flag = italian_technologies_tree_flag
					NOT = { controls_state = 856 }
					OR = {
						AND = {
							NOT = {is_in_faction_with = ITA}
							NOT = {is_puppet_of = ITA}
							NOT = {has_completed_focus = TUR_find_a_major_sponser}
						}
						has_war_with = ITA
					}
				}
				AND = {
					has_country_flag = japanese_technologies_tree_flag
					NOT = { controls_state = 282 }
					OR = {
						AND = {
							NOT = {is_in_faction_with = JAP}
							NOT = {is_puppet_of = JAP}
							NOT = {has_completed_focus = CHI_collaboration_with_the_japanese}
							NOT = {has_completed_focus = TUR_find_a_major_sponser}
						}
						has_war_with = JAP
					}
				}
				AND = {
					has_country_flag = german_technologies_tree_flag
					NOT = { controls_state = 810 }
					OR = {
						AND = {
							NOT = {is_in_faction_with = GER}
							NOT = {is_puppet_of = GER}
							NOT = {has_completed_focus = CHI_mission_to_germany}
							NOT = {has_completed_focus = TUR_find_a_major_sponser}
						}
						has_war_with = GER
					}
				}
				AND = {
					has_country_flag = soviet_technologies_tree_flag
					NOT = { controls_state = 219 }
					OR = {
						AND = {
							NOT = {is_in_faction_with = SOV}
							NOT = {is_puppet_of = SOV}
							NOT = {has_completed_focus = PRC_adoption_of_soviet_technology}
							NOT = {has_completed_focus = CHI_mission_to_the_soviet_union}
							NOT = {has_completed_focus = TUR_find_a_major_sponser}
						}
						has_war_with = SOV
					}
				}
				AND = {
					has_country_flag = british_technologies_tree_flag
					NOT = { controls_state = 126 }
					OR = {
						AND = {
							NOT = {is_in_faction_with = ENG}
							NOT = {is_puppet_of = ENG}
							NOT = {has_completed_focus = CHI_british_cooperation}
							NOT = {has_completed_focus = TUR_find_a_major_sponser}
						}
						has_war_with = ENG
					}
				}
				AND = {
					has_country_flag = unitedstates_technologies_tree_flag
					NOT = { controls_state = 361 }
					OR = {
						AND = {
							NOT = {is_in_faction_with = USA}
							NOT = {is_puppet_of = USA}
							NOT = {has_completed_focus = CHI_mission_to_the_us}
							NOT = {has_completed_focus = TUR_find_a_major_sponser}
						}
						has_war_with = USA
					}
				}
			}
		}

		visible = {
		}

		is_good = no

		complete_effect = {
			
		}

		timeout_effect = {
			clr_country_flag = french_technologies_tree_flag
			clr_country_flag = italian_technologies_tree_flag
			clr_country_flag = japanese_technologies_tree_flag
			clr_country_flag = german_technologies_tree_flag
			clr_country_flag = soviet_technologies_tree_flag
			clr_country_flag = british_technologies_tree_flag
			clr_country_flag = unitedstates_technologies_tree_flag
			remove_ideas = foreign_technologies
		}
	}
}